{"ast":null,"code":"var _jsxFileName = \"D:\\\\social media-platform\\\\frontend\\\\app\\\\src\\\\components\\\\Posts\\\\PostForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Loader from \"../Loader\";\nimport Message from \"../Message\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PostForm({\n  fetchPosts\n}) {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const handleClose = () => setMessage(\"\");\n  const [content, setContent] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const submitHandler = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"content\", content);\n    if (image) {\n      formData.append(\"image\", image);\n    }\n    try {\n      setLoading(true);\n      const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n      const config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      };\n      await axios.post(\"/api/posts\", formData, config);\n      setContent(\"\");\n      setImage(null);\n      fetchPosts();\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setError(error.response && error.response.data.message ? error.response.data.message : error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Post something...\",\n          value: content,\n          onChange: e => setContent(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"image\",\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"file\",\n          onChange: e => setImage(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        className: \"mt-3\",\n        disabled: loading,\n        children: [loading ? /*#__PURE__*/_jsxDEV(Loader, {\n          size: \"sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }, this) : \"Post\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(PostForm, \"gFY9ifoobPXVakApLfi+oJRaxPU=\");\n_c = PostForm;\nexport default PostForm;\nvar _c;\n$RefreshReg$(_c, \"PostForm\");","map":{"version":3,"names":["React","useState","Form","Button","axios","Loader","Message","jsxDEV","_jsxDEV","Fragment","_Fragment","PostForm","fetchPosts","_s","loading","setLoading","error","setError","message","setMessage","handleClose","content","setContent","image","setImage","submitHandler","e","preventDefault","formData","FormData","append","userInfo","JSON","parse","localStorage","getItem","config","headers","Authorization","token","post","response","data","children","variant","onClose","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","Control","type","placeholder","value","onChange","target","required","className","files","disabled","size","_c","$RefreshReg$"],"sources":["D:/social media-platform/frontend/app/src/components/Posts/PostForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../Loader\";\r\nimport Message from \"../Message\";\r\n\r\nfunction PostForm({ fetchPosts }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleClose = () => setMessage(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"content\", content);\r\n    if (image) {\r\n      formData.append(\"image\", image);\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      await axios.post(\"/api/posts\", formData, config);\r\n      setContent(\"\");\r\n      setImage(null);\r\n      fetchPosts();\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error && (\r\n        <Message variant=\"danger\" onClose={() => setError(null)}>\r\n          {error}\r\n        </Message>\r\n      )}\r\n\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId=\"content\">\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Post something...\"\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            required\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"image\" className=\"mt-3\">\r\n          <Form.Control\r\n            type=\"file\"\r\n            onChange={(e) => setImage(e.target.files[0])}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"primary\"\r\n          className=\"mt-3\"\r\n          disabled={loading}\r\n        >\r\n          {loading ? <Loader size=\"sm\" /> : \"Post\"}{\" \"}\r\n          <i className=\"fa-solid fa-upload\"></i>\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PostForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}